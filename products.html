<html lang="en-IN">
  <head>
    <!-- Essential Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    <meta name="theme-color" content="#ea2832">
    
    <!-- SEO Meta Tags (will be dynamically updated by JavaScript) -->
    <title>ora - Mobile Phone Prices, Specs & Reviews | Buy from Verified Stores</title>
    <meta name="description" content="Find mobile phone prices, specifications, and reviews. Buy from verified stores in India with best deals, EMI options, and genuine products.">
    <meta name="keywords" content="mobile phone price India, smartphone specs, mobile reviews, buy mobile online, verified mobile stores, mobile EMI">
    <meta name="author" content="ora">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://electronics-63ec.onrender.com/products">
    
    <!-- Open Graph Tags (will be dynamically updated) -->
    <meta property="og:site_name" content="ora">
    <meta property="og:type" content="product">
    <meta property="og:title" content="Mobile Phone - Price, Specs & Reviews | ora">
    <meta property="og:description" content="Get best price, specifications, and reviews. Buy from verified stores in India.">
    <meta property="og:image" content="https://electronics-63ec.onrender.com/product-default.jpg">
    <meta property="og:url" content="https://electronics-63ec.onrender.com/products">
    <meta property="og:locale" content="en_IN">
    
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Mobile Phone - Price & Specs | ora">
    <meta name="twitter:description" content="Best mobile phone deals from verified stores in India.">
    <meta name="twitter:image" content="https://electronics-63ec.onrender.com/product-default.jpg">
    
    <!-- Mobile App Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ora">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="/ora-favicon.png" as="image">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">

    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Lexend%3Awght%40400%3B500%3B700%3B900&amp;family=Noto+Sus%3Awght%40400%3B500%3B700%3B900"
    />

    <link rel="icon" type="image/png" href="/ora-favicon.png" />
    
    <!-- Product Structured Data (will be dynamically updated by JavaScript) -->
    <script id="product-schema" type="application/ld+json">
    {
      "@context": "https://schema.org/",
      "@type": "Product",
      "name": "Mobile Phone",
      "image": "https://electronics-63ec.onrender.com/product-default.jpg",
      "description": "Latest mobile phone with best features and specifications",
      "brand": {
        "@type": "Brand",
        "name": "Brand Name"
      },
      "offers": {
        "@type": "AggregateOffer",
        "lowPrice": "10000",
        "highPrice": "100000",
        "priceCurrency": "INR",
        "availability": "https://schema.org/InStock",
        "seller": {
          "@type": "Organization",
          "name": "ora"
        }
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.5",
        "reviewCount": "100"
      }
    }
    </script>
    
    <!-- Breadcrumb Structured Data -->
    <script id="breadcrumb-schema" type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://electronics-63ec.onrender.com/"
      }, {
        "@type": "ListItem",
        "position": 2,
        "name": "Mobiles",
        "item": "https://electronics-63ec.onrender.com/mobiles"
      }, {
        "@type": "ListItem",
        "position": 3,
        "name": "Product Name"
      }]
    }
    </script>

        <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
        <script src="/src/api-cache-service.js"></script>
        <script src="/seo/scripts/seo-optimizer.js"></script>
    <script src="/src/product-data.js" defer></script>
    <script src="/src/product-images.js" defer></script>
    <script src="/src/product-variants.js" defer></script>
    <script src="/src/product-stores.js" defer></script>


    <script src="/src/product-page.js" defer></script>
    <script>
      // Update page title when product data is loaded
      document.addEventListener('DOMContentLoaded', () => {
        // Wait for product data to be available
        window.productDataModule.addEventListener('product-loaded', (data) => {
          if (data && data.name) {
            // Update page title with product name
            document.title = `ora | ${data.name}`;
          }
        });
      });
    </script>

    <script src="/src/search-transition.js" defer></script>


    <style>

      html, body {
        scroll-behavior: smooth !important;
      }

      #section-tabs {
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE and Edge */
      }
      #section-tabs::-webkit-scrollbar {
        display: none; /* Chrome, Safari, Opera */
      }
      
    </style>

    <style>
      @media (max-width: 640px) {
  input[type="text"] {
    font-size: 12px !important;
  }
}
    </style>
    <style>
      body {
        visibility: hidden;
      }
    </style>
  </head>

  </head>
  <body>
    <div
      class="relative flex size-full min-h-screen flex-col bg-[#fcf8f8] justify-between group/design-root overflow-x-hidden"
      style='font-family: Lexend, "Noto Sans", sans-serif;'
    >
      <div>
        <div class="mx-auto max-w-[1320px] px-4 sm:px-8 xl:px-16">
          <!-- BEGIN Top Section from index.html -->
          <div class="flex items-center bg-[#fcf8f8] pt-4 pb-2 gap-2 sticky top-0 z-50">
            <!-- Left: Logo Only -->
                        <a href="/search" class="flex items-center cursor-pointer"><img src="/ora-favicon.png" alt="ora logo" class="h-7 w-auto mr-1 align-middle inline-block" />
              <span class="hidden sm:inline-block text-[#1b0e0e] text-lg font-bold leading-tight tracking-[-0.015em] min-w-max align-middle inline-block">ora</span>
            </a>
            <!-- Responsive Search Bar -->
            <div class="flex-1 flex items-center">
              <div class="relative w-full">
                <input
                  type="text"
                  placeholder="Search for mobiles"
                  class="w-full rounded-lg border border-[#e7d0d1] pl-10 pr-3 py-2 text-sm bg-white focus:outline-none focus:ring-0 focus:border-black text-[#1b0e0e]"
                  style="font-family: inherit;"
                />
                <span class="absolute left-3 top-1/2 -translate-y-1/2 text-[#994d51]">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path>
                  </svg>
                </span>
              </div>
            </div>
          </div>
          <!-- Sticky Categories Tabs -->
          <div class="pb-3 sticky top-[56px] z-40 bg-[#fcf8f8]">
            <div class="flex border-b border-[#e7d0d1] gap-6 overflow-x-auto whitespace-nowrap scrollbar-none" id="section-tabs">
              <a href="#section-info" class="flex flex-col items-center justify-center border-b-[3px] border-b-transparent text-[#994d51] pt-2 sm:pt-4 pb-2 sm:pb-[13px] cursor-pointer scroll-smooth">
                <p class="category-tab-label text-xs sm:text-sm font-bold leading-normal tracking-[0.015em]">Info</p>
              </a>
              <a href="#section-stores" class="flex flex-col items-center justify-center border-b-[3px] border-b-transparent text-[#994d51] pt-2 sm:pt-4 pb-2 sm:pb-[13px] cursor-pointer scroll-smooth">
                <p class="category-tab-label text-xs sm:text-sm font-bold leading-normal tracking-[0.015em]">Stores</p>
              </a>
              <a href="#section-similar" class="flex flex-col items-center justify-center border-b-[3px] border-b-transparent text-[#994d51] pt-2 sm:pt-4 pb-2 sm:pb-[13px] cursor-pointer scroll-smooth">
                <p class="category-tab-label text-xs sm:text-sm font-bold leading-normal tracking-[0.015em]">Similar Products</p>
              </a>
              <a href="#section-specs" class="flex flex-col items-center justify-center border-b-[3px] border-b-transparent text-[#994d51] pt-2 sm:pt-4 pb-2 sm:pb-[13px] cursor-pointer scroll-smooth">
                <p class="category-tab-label text-xs sm:text-sm font-bold leading-normal tracking-[0.015em]">Specs</p>
              </a>
              <a href="#section-reviews" class="flex flex-col items-center justify-center border-b-[3px] border-b-transparent text-[#994d51] pt-2 sm:pt-4 pb-2 sm:pb-[13px] cursor-pointer scroll-smooth">
                <p class="category-tab-label text-xs sm:text-sm font-bold leading-normal tracking-[0.015em]">Reviews</p>
              </a>
            </div>

</div>
          <!-- END Top Section -->

<!-- Product Info Section (Responsive, Mobile Friendly) -->
<div id="section-info" class="w-full bg-[#fcf8f8] mx-auto rounded-xl px-2 py-2 sm:p-4 md:p-6 mb-4 flex flex-col md:flex-row gap-4 md:gap-6" style="scroll-margin-top: 100px;">
  <!-- Breadcrumb Navigation Path for mobile only -->
  <nav class="block md:hidden text-xs text-gray-500 flex flex-wrap mb-2" id="mobile-breadcrumb">
    <a href="/" class="hover:underline">Home</a><span class="mx-1">›</span>
    <a href="#" class="hover:underline parent-category">Mobiles</a><span class="mx-1">›</span>
    <a href="#" class="hover:underline sub-category">Loading...</a><span class="mx-1">›</span>
    <span class="truncate product-vertical">Loading product...</span>
  </nav>
  <!-- Left: Vertical Image Gallery (scrollable on mobile) -->
  <div class="flex flex-row md:flex-col gap-2 w-full md:w-16 items-center justify-center md:items-start md:justify-start md:gap-2 overflow-x-auto md:overflow-visible mb-2 md:mb-0">
    <div class="thumbnail rounded-lg p-1 border-2 border-blue-500 shrink-0">
      <img src="https://videos.openai.com/vg-assets/assets%2Ftask_01k0kczk4desea6ypzjtvp4hg7%2F1752997946_img_0.webp?st=2025-07-27T12%3A45%3A02Z&se=2025-08-02T13%3A45%3A02Z&sks=b&skt=2025-07-27T12%3A45%3A02Z&ske=2025-08-02T13%3A45%3A02Z&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skoid=aa5ddad1-c91a-4f0a-9aca-e20682cc8969&skv=2019-02-02&sv=2018-11-09&sr=b&sp=r&spr=https%2Chttp&sig=cIRKQcRpxDNWrjpcgUQByA2bZ3XSerh0EMDxsZyEHUE%3D&az=oaivgprodscus" class="gallery-thumb w-12 h-16 object-cover rounded" alt="Thumb 1"/>
    </div>
    <div class="thumbnail rounded-lg p-1 hover:border-2 hover:border-blue-500 shrink-0">
      <img src="https://videos.openai.com/vg-assets/assets%2Ftask_01k0kczk4desea6ypzjtvp4hg7%2F1752997946_img_1.webp?st=2025-07-27T12%3A45%3A02Z&se=2025-08-02T13%3A45%3A02Z&sks=b&skt=2025-07-27T12%3A45%3A02Z&ske=2025-08-02T13%3A45%3A02Z&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skoid=aa5ddad1-c91a-4f0a-9aca-e20682cc8969&skv=2019-02-02&sv=2018-11-09&sr=b&sp=r&spr=https%2Chttp&sig=%2BXymZAXupbvUB106a730RVoHhJprp8eT9%2F6dEze2pxM%3D&az=oaivgprodscus" class="gallery-thumb w-12 h-16 object-cover rounded" alt="Thumb 2"/>
    </div>
    <div class="thumbnail rounded-lg p-1 hover:border-2 hover:border-blue-500 shrink-0">
      <img src="https://videos.openai.com/vg-assets/assets%2Ftask_01k0kczk4desea6ypzjtvp4hg7%2F1752997946_img_0.webp?st=2025-07-27T12%3A45%3A02Z&se=2025-08-02T13%3A45%3A02Z&sks=b&skt=2025-07-27T12%3A45%3A02Z&ske=2025-08-02T13%3A45%3A02Z&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skoid=aa5ddad1-c91a-4f0a-9aca-e20682cc8969&skv=2019-02-02&sv=2018-11-09&sr=b&sp=r&spr=https%2Chttp&sig=cIRKQcRpxDNWrjpcgUQByA2bZ3XSerh0EMDxsZyEHUE%3D&az=oaivgprodscus" class="gallery-thumb w-12 h-16 object-cover rounded" alt="Thumb 3"/>
    </div>
    <div class="thumbnail rounded-lg p-1 hover:border-2 hover:border-blue-500 shrink-0">
      <img src="https://videos.openai.com/vg-assets/assets%2Ftask_01k0kczk4desea6ypzjtvp4hg7%2F1752997946_img_1.webp?st=2025-07-27T12%3A45%3A02Z&se=2025-08-02T13%3A45%3A02Z&sks=b&skt=2025-07-27T12%3A45%3A02Z&ske=2025-08-02T13%3A45%3A02Z&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skoid=aa5ddad1-c91a-4f0a-9aca-e20682cc8969&skv=2019-02-02&sv=2018-11-09&sr=b&sp=r&spr=https%2Chttp&sig=%2BXymZAXupbvUB106a730RVoHhJprp8eT9%2F6dEze2pxM%3D&az=oaivgprodscus" class="gallery-thumb w-12 h-16 object-cover rounded" alt="Thumb 4"/>
    </div>
    <div class="thumbnail rounded-lg p-1 hover:border-2 hover:border-blue-500 shrink-0">
      <img src="https://videos.openai.com/vg-assets/assets%2Ftask_01k0kczk4desea6ypzjtvp4hg7%2F1752997946_img_0.webp?st=2025-07-27T12%3A45%3A02Z&se=2025-08-02T13%3A45%3A02Z&sks=b&skt=2025-07-27T12%3A45%3A02Z&ske=2025-08-02T13%3A45%3A02Z&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skoid=aa5ddad1-c91a-4f0a-9aca-e20682cc8969&skv=2019-02-02&sv=2018-11-09&sr=b&sp=r&spr=https%2Chttp&sig=cIRKQcRpxDNWrjpcgUQByA2bZ3XSerh0EMDxsZyEHUE%3D&az=oaivgprodscus" class="gallery-thumb w-12 h-16 object-cover rounded" alt="Thumb 5"/>
    </div>
  </div>
  <!-- Center: Main Image -->
  <div class="flex-1 flex items-center justify-center relative min-w-[150px] max-w-full">
    <img id="main-image" src="https://videos.openai.com/vg-assets/assets%2Ftask_01k0kczk4desea6ypzjtvp4hg7%2F1752997946_img_0.webp?st=2025-07-28T07%3A15%3A39Z&se=2025-08-03T08%3A15%3A39Z&sks=b&skt=2025-07-28T07%3A15%3A39Z&ske=2025-08-03T08%3A15%3A39Z&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skoid=8ebb0df1-a278-4e2e-9c20-f2d373479b3a&skv=2019-02-02&sv=2018-11-09&sr=b&sp=r&spr=https%2Chttp&sig=UoruCmUgIgRoSHzaYgpGhUEh8sAWQ6AfIV%2B0K%2B4v8MQ%3D&az=oaivgprodscus" alt="Main Product" class="w-full max-w-xs md:max-w-sm lg:max-w-md rounded-xl shadow-lg object-contain bg-white"/>
  </div>
  <!-- Right: Info Details -->
  <div class="flex-1 max-w-xl flex flex-col gap-2 sm:pl-4">
    <nav class="hidden md:flex text-xs text-gray-500 flex-wrap mb-2" id="desktop-breadcrumb"><a href="/" class="hover:underline">Home</a><span class="mx-1">›</span>
      <a href="#" class="hover:underline parent-category">Mobiles</a><span class="mx-1">›</span>
      <a href="#" class="hover:underline sub-category">Loading...</a><span class="mx-1">›</span>
      <span class="truncate product-vertical">Loading product...</span>
    </nav>
    <h2 class="text-xl sm:text-2xl md:text-3xl font-bold text-gray-900" id="product-title">Loading product...</h2>
    <div class="flex items-center gap-2 mb-1 text-sm">
      <span class="bg-green-600 text-white text-xs font-bold rounded px-2 py-0.5 whitespace-nowrap">4.6 ★</span>
      <span class="text-gray-600">19,106 Ratings & 793 Reviews</span>
    </div>
    <div class="flex items-center gap-2 sm:gap-2">
      <span class="text-lg sm:text-xl md:text-2xl font-bold text-gray-900">&#8377;74,900</span>
            <span class="text-gray-500 line-through text-sm">&#8377;79,900</span>
            <span class="text-green-600 font-semibold text-xs sm:text-base">6% off</span>
    </div>
    <div class="flex flex-col sm:flex-row sm:items-center gap-2">
      <div class="flex items-center">
        <span class="font-semibold mr-2">Color</span>
        <div class="flex gap-1">
        </div>
      </div>
      <div class="flex items-center mt-2 sm:mt-0">
        <span class="ml-0 sm:ml-4 font-semibold">Storage</span>
        <div class="flex gap-1 sm:gap-2 ml-2">
        </div>
      </div>
        <div class="flex items-center mt-2 sm:mt-0">
        <span class="ml-0 sm:ml-4 font-semibold">RAM</span>
        <div class="flex gap-1 sm:gap-2 ml-2">
        </div>
      </div>
    </div>
    <div class="my-2">
      <span class="font-semibold text-gray-700">Highlights</span>
      <ul class="pl-4 mt-1 text-gray-600 text-xs sm:text-sm space-y-1">
        <li class="list-disc">128 GB ROM</li>
        <li class="list-disc">15.49 cm (6.1 inch) Super Retina XDR Display</li>
        <li class="list-disc">48MP + 12MP | 12MP Front Camera</li>
        <li class="list-disc">A18 Chip, 6 Core Processor</li>
      </ul>
    </div>
    <div class="my-2">
      <span class="font-semibold text-gray-700">Seller -</span><a href="#" class="font-semibold text-blue-600 hover:underline ml-1">Electronics Store 1</a></span>
      <ul class="pl-4 mt-1 text-gray-600 text-xs sm:text-sm space-y-1">
        <li class="list-disc">7 Days Service Center Replacement/Repair</li>
        <li class="list-disc">GST invoice available</li>
      </ul>
    </div>
    <div class="flex flex-col sm:flex-row gap-2 sm:gap-4 mt-2">
      <button class="w-full sm:w-auto flex-1 bg-orange-400 text-white font-bold py-3 rounded-lg shadow hover:bg-orange-500 flex items-center justify-center gap-2 text-lg">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-1.2 6M17 13l1.2 6M6 19a2 2 0 104 0M15 19a2 2 0 104 0" /></svg>
        BUY NOW
      </button>
    </div>
  </div>
</div>
<h2 id="section-stores" class="text-[#1b0e0e] text-xl sm:text-[22px] font-bold leading-tight tracking-[-0.015em] px-0 sm:px-4 pb-3 pt-3" style="scroll-margin-top: 100px;">Locate, call and buy from nearby stores</h2>
        <div id="stores-container" class="grid grid-cols-2 md:flex md:flex-wrap md:overflow-x-visible [-ms-scrollbar-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden px-0 md:px-4 py-4 gap-4 md:gap-8">
          <div class="flex h-full flex-col gap-4 rounded-lg w-30 md:w-40 min-w-30">
            <div
              class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-lg flex flex-col"
              style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBg4HKvF49kpdo5dTFBlZucUfZGS-6IxcYq98Nq4UjW3cdUMVD_xhAxiJwTh0eVzZnmNAX1sI0chBeCqt1w7x0wn3GtZrE-6Mu1_La0lB6jjSiqamLzFQ4IFzJi4SY2NHgV_69uUGVaEWodVh80ecCnXNP8vSrNGbF2uDQvoLQglu_32XTrbRcuHZFmmmdPFTTntqmUwZNAoXhJSNYmm5uyiMogZnUU-lto7HsmkJ9-qJxAxH2MHS1sqoJz829NTcuHUzjF60mP-A");'
            ></div>
            <div>
              <p class="text-[#1b0e0e] text-base font-medium leading-normal">Electronics Store 1</p>
              <p class="text-[#994d51] leading-normal">
              <span class="md:text-lg font-bold text-gray-900">&#8377;74,900</span>
<div class="flex flex-row items-center gap-1">
  <span class="text-gray-500 line-through text-sm">&#8377;79,900</span>
  <span class="text-green-600 font-semibold text-sm">6% off</span>
</div>
    </p>
              <p class="text-[#994d51] text-sm font-normal leading-normal">4.8 • 1.2km</p>
              <p class="text-gray-500 text-sm">• 7 days service center replacement / repair</p>
              <p class="text-gray-500 text-sm">• GST invoice available</p>
              <!-- Call Button -->
               
<div class="flex flex-row gap-2 mt-2">
  <a href="tel:+1234567890" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Call Store">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M392.29,323.08c-23.39,0-46.31-3.63-67.92-10.74a25.26,25.26,0,0,0-24.34,6l-46.14,34.77A348.11,348.11,0,0,1,158.9,249.87l34.58-45.93a25.22,25.22,0,0,0,6-24.19c-7.14-21.61-10.77-44.53-10.77-67.92a25.26,25.26,0,0,0-25.26-25.26H89.71A25.26,25.26,0,0,0,64.45,112C64.45,305.15,206.85,447.55,400,447.55a25.26,25.26,0,0,0,25.26-25.26V348.34A25.26,25.26,0,0,0,400,323.08Z"/></svg>
    </a>

<!-- Directions Button -->
  <a href="https://maps.google.com/?q=Electronics+Store+1" target="_blank" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Get Location">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M256 32C167.64 32 96 103.64 96 192c0 106.04 144.44 271.83 150.62 278.67a24 24 0 0 0 34.76 0C271.56 463.83 416 298.04 416 192c0-88.36-71.64-160-160-160zm0 240a80 80 0 1 1 0-160 80 80 0 0 1 0 160zm0-32a48 48 0 1 0 0-96 48 48 0 0 0 0 96z" />
      </svg>
    </a>
</div>
<div>
  <a href="https://maps.google.com/?q=Electronics+Store+1" target="_blank" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Get Location">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M256 32C167.64 32 96 103.64 96 192c0 106.04 144.44 271.83 150.62 278.67a24 24 0 0 0 34.76 0C271.56 463.83 416 298.04 416 192c0-88.36-71.64-160-160-160zm0 240a80 80 0 1 1 0-160 80 80 0 0 1 0 160zm0-32a48 48 0 1 0 0-96 48 48 0 0 0 0 96z" />
      </svg>
    </a>
</div>

            
              </span>
            </div>
          </div>
          <div class="flex h-full flex-col gap-4 rounded-lg w-30 md:w-40 min-w-30">
            <div
              class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-lg flex flex-col"
              style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuD0-E6SmVwoQzdaa436Y4vQzdPSBRfKNndm1UTWTFOknM-WNeqsD575TExNjP8bQaJtWn_RhBrN7xygxGxZ8kdKe0TPI1pOQGwQPNJR2KQIFHSYsPEcH0cnCfwW1ptJm-cIHIkPPm1jwCfFMket55GSxQ4nHbMv6QGy4efBy7l9lu4TEJprydn9IumUUF7ZCXpQdQomXEe-7x8Qpbv5u5BPfvhgPjWB_qGNrniAqUuVKCqj1DG48hhgg3hv69WdKUWoJRTDIbwgZw");'
            ></div>
            <div>
              <p class="text-[#1b0e0e] text-base font-medium leading-normal">Electronics Store 2</p>
                            <p class="text-[#994d51] leading-normal">
              <span class="md:text-lg font-bold text-gray-900">&#8377;74,900</span>
<div class="flex flex-row items-center gap-1">
  <span class="text-gray-500 line-through text-sm">&#8377;79,900</span>
  <span class="text-green-600 font-semibold text-sm">6% off</span>
</div>
    </p>
              <p class="text-[#994d51] text-sm font-normal leading-normal">4.5 • 2.5km</p>
              <p class="text-gray-500 text-sm">• 7 days service center replacement/repair</p>
              <p class="text-gray-500 text-sm">• GST invoice available</p>


              <div class="flex flex-row gap-2 mt-2">
  <a href="tel:+1234567890" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Call Store">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M392.29,323.08c-23.39,0-46.31-3.63-67.92-10.74a25.26,25.26,0,0,0-24.34,6l-46.14,34.77A348.11,348.11,0,0,1,158.9,249.87l34.58-45.93a25.22,25.22,0,0,0,6-24.19c-7.14-21.61-10.77-44.53-10.77-67.92a25.26,25.26,0,0,0-25.26-25.26H89.71A25.26,25.26,0,0,0,64.45,112C64.45,305.15,206.85,447.55,400,447.55a25.26,25.26,0,0,0,25.26-25.26V348.34A25.26,25.26,0,0,0,400,323.08Z"/></svg>
    </a>

<!-- Directions Button -->
  <a href="https://maps.google.com/?q=Electronics+Store+1" target="_blank" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Get Location">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M256 32C167.64 32 96 103.64 96 192c0 106.04 144.44 271.83 150.62 278.67a24 24 0 0 0 34.76 0C271.56 463.83 416 298.04 416 192c0-88.36-71.64-160-160-160zm0 240a80 80 0 1 1 0-160 80 80 0 0 1 0 160zm0-32a48 48 0 1 0 0-96 48 48 0 0 0 0 96z" />
      </svg>
    </a>
</div>
            </div>
          </div>
          <div class="flex h-full flex-col gap-4 rounded-lg w-30 md:w-40 min-w-30">
            <div
              class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-lg flex flex-col"
              style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDKtO7KvGXRg8CUc30p_lFyp86bdmE8U5AQh1JMQ00puRh8Uo1UFcz7uaIjF0exfCKHbBOQeDFhMdjRkB9qrcCWCD0ZF4W1StlWBYXbgRByNocvXAsOv8LEVJ4h1t6XILQqnPH3651hkWbTFWILuE-RY8qMau5kNU6ZKl434jc6js1W2ypti8uiRPBEHlomVZ4tNPmLV48YmB4sztPviqJtKxZLR0v6P6DKwgWEl4gis79_-1j3OD2BJaP163r7lbjR9POXN6lZ-A");'
            ></div>
            <div>
              <p class="text-[#1b0e0e] text-base font-medium leading-normal">Electronics Store 3</p>
                            <p class="text-[#994d51] leading-normal">
              <span class="md:text-lg font-bold text-gray-900">&#8377;74,900</span>
<div class="flex flex-row items-center gap-1">
  <span class="text-gray-500 line-through text-sm">&#8377;79,900</span>
  <span class="text-green-600 font-semibold text-sm">6% off</span>
</div></p>
              <p class="text-[#994d51] text-sm font-normal leading-normal">4.7 • 1.8km</p>
              <p class="text-gray-500 text-sm">• 7 days service center replacement/repair</p>
              <p class="text-gray-500 text-sm">• GST invoice available</p>


              <div class="flex flex-row gap-2 mt-2">
  <a href="tel:+1234567890" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Call Store">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M392.29,323.08c-23.39,0-46.31-3.63-67.92-10.74a25.26,25.26,0,0,0-24.34,6l-46.14,34.77A348.11,348.11,0,0,1,158.9,249.87l34.58-45.93a25.22,25.22,0,0,0,6-24.19c-7.14-21.61-10.77-44.53-10.77-67.92a25.26,25.26,0,0,0-25.26-25.26H89.71A25.26,25.26,0,0,0,64.45,112C64.45,305.15,206.85,447.55,400,447.55a25.26,25.26,0,0,0,25.26-25.26V348.34A25.26,25.26,0,0,0,400,323.08Z"/></svg>
    </a>

<!-- Directions Button -->
  <a href="https://maps.google.com/?q=Electronics+Store+1" target="_blank" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Get Location">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M256 32C167.64 32 96 103.64 96 192c0 106.04 144.44 271.83 150.62 278.67a24 24 0 0 0 34.76 0C271.56 463.83 416 298.04 416 192c0-88.36-71.64-160-160-160zm0 240a80 80 0 1 1 0-160 80 80 0 0 1 0 160zm0-32a48 48 0 1 0 0-96 48 48 0 0 0 0 96z" />
      </svg>
    </a>
</div>
              
            </div>
          </div>
          <div class="flex h-full flex-col gap-4 rounded-lg w-30 md:w-40 min-w-30">
            <div
              class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-lg flex flex-col"
              style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDKtO7KvGXRg8CUc30p_lFyp86bdmE8U5AQh1JMQ00puRh8Uo1UFcz7uaIjF0exfCKHbBOQeDFhMdjRkB9qrcCWCD0ZF4W1StlWBYXbgRByNocvXAsOv8LEVJ4h1t6XILQqnPH3651hkWbTFWILuE-RY8qMau5kNU6ZKl434jc6js1W2ypti8uiRPBEHlomVZ4tNPmLV48YmB4sztPviqJtKxZLR0v6P6DKwgWEl4gis79_-1j3OD2BJaP163r7lbjR9POXN6lZ-A");'
            ></div>
            <div>
              <p class="text-[#1b0e0e] text-base font-medium leading-normal">Electronics Store 3</p>
                            <p class="text-[#994d51] leading-normal">
              <span class="md:text-lg font-bold text-gray-900">&#8377;74,900</span>
<div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2">
  <span class="text-black text-lg font-bold">&#8377;74,900</span> <!-- Selling price -->
  <span class="text-gray-500 line-through text-sm">&#8377;79,900</span> <!-- Original price -->
  <span class="text-green-600 font-semibold text-sm">6% off</span> <!-- Discount -->
</div>
              <p class="text-[#994d51] text-sm font-normal leading-normal">4.7 • 1.8km</p>
              <p class="text-gray-500 text-sm">• 7 days service center replacement/repair</p>
              <p class="text-gray-500 text-sm">• GST invoice available</p>


              <div class="flex flex-row gap-2 mt-2">
  <a href="tel:+1234567890" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Call Store">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M392.29,323.08c-23.39,0-46.31-3.63-67.92-10.74a25.26,25.26,0,0,0-24.34,6l-46.14,34.77A348.11,348.11,0,0,1,158.9,249.87l34.58-45.93a25.22,25.22,0,0,0,6-24.19c-7.14-21.61-10.77-44.53-10.77-67.92a25.26,25.26,0,0,0-25.26-25.26H89.71A25.26,25.26,0,0,0,64.45,112C64.45,305.15,206.85,447.55,400,447.55a25.26,25.26,0,0,0,25.26-25.26V348.34A25.26,25.26,0,0,0,400,323.08Z"/></svg>
    </a>

<!-- Directions Button -->
  <a href="https://maps.google.com/?q=Electronics+Store+1" target="_blank" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Get Location">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M256 32C167.64 32 96 103.64 96 192c0 106.04 144.44 271.83 150.62 278.67a24 24 0 0 0 34.76 0C271.56 463.83 416 298.04 416 192c0-88.36-71.64-160-160-160zm0 240a80 80 0 1 1 0-160 80 80 0 0 1 0 160zm0-32a48 48 0 1 0 0-96 48 48 0 0 0 0 96z" />
      </svg>
    </a>
</div>
            </div>
          </div>
          <div class="flex h-full flex-col gap-4 rounded-lg w-30 md:w-40 min-w-30">
            <div
              class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-lg flex flex-col"
              style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDKtO7KvGXRg8CUc30p_lFyp86bdmE8U5AQh1JMQ00puRh8Uo1UFcz7uaIjF0exfCKHbBOQeDFhMdjRkB9qrcCWCD0ZF4W1StlWBYXbgRByNocvXAsOv8LEVJ4h1t6XILQqnPH3651hkWbTFWILuE-RY8qMau5kNU6ZKl434jc6js1W2ypti8uiRPBEHlomVZ4tNPmLV48YmB4sztPviqJtKxZLR0v6P6DKwgWEl4gis79_-1j3OD2BJaP163r7lbjR9POXN6lZ-A");'
            ></div>
            <div>
              <p class="text-[#1b0e0e] text-base font-medium leading-normal">Electronics Store 3</p>
                            <p class="text-[#994d51] leading-normal">
              <span class="md:text-lg font-bold text-gray-900">&#8377;74,900</span>
<div class="flex flex-row items-center gap-1">
  <span class="text-gray-500 line-through text-sm">&#8377;79,900</span>
  <span class="text-green-600 font-semibold text-sm">6% off</span>
</div></p>
              <p class="text-[#994d51] text-sm font-normal leading-normal">4.7 • 1.8km</p>
              <p class="text-gray-500 text-sm">• 7 days service center replacement/repair</p>
              <p class="text-gray-500 text-sm">• GST invoice available</p>


              <div class="flex flex-row gap-2 mt-2">
  <a href="tel:+1234567890" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Call Store">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M392.29,323.08c-23.39,0-46.31-3.63-67.92-10.74a25.26,25.26,0,0,0-24.34,6l-46.14,34.77A348.11,348.11,0,0,1,158.9,249.87l34.58-45.93a25.22,25.22,0,0,0,6-24.19c-7.14-21.61-10.77-44.53-10.77-67.92a25.26,25.26,0,0,0-25.26-25.26H89.71A25.26,25.26,0,0,0,64.45,112C64.45,305.15,206.85,447.55,400,447.55a25.26,25.26,0,0,0,25.26-25.26V348.34A25.26,25.26,0,0,0,400,323.08Z"/></svg>
    </a>

<!-- Directions Button -->
  <a href="https://maps.google.com/?q=Electronics+Store+1" target="_blank" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Get Location">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M256 32C167.64 32 96 103.64 96 192c0 106.04 144.44 271.83 150.62 278.67a24 24 0 0 0 34.76 0C271.56 463.83 416 298.04 416 192c0-88.36-71.64-160-160-160zm0 240a80 80 0 1 1 0-160 80 80 0 0 1 0 160zm0-32a48 48 0 1 0 0-96 48 48 0 0 0 0 96z" />
      </svg>
    </a>
</div>
            </div>
          </div>
          <div class="flex h-full flex-col gap-4 rounded-lg w-30 md:w-40 min-w-30">
            <div
              class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-lg flex flex-col"
              style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDKtO7KvGXRg8CUc30p_lFyp86bdmE8U5AQh1JMQ00puRh8Uo1UFcz7uaIjF0exfCKHbBOQeDFhMdjRkB9qrcCWCD0ZF4W1StlWBYXbgRByNocvXAsOv8LEVJ4h1t6XILQqnPH3651hkWbTFWILuE-RY8qMau5kNU6ZKl434jc6js1W2ypti8uiRPBEHlomVZ4tNPmLV48YmB4sztPviqJtKxZLR0v6P6DKwgWEl4gis79_-1j3OD2BJaP163r7lbjR9POXN6lZ-A");'
            ></div>
            <div>
              <p class="text-[#1b0e0e] text-base font-medium leading-normal">Electronics Store 3</p>
                            <p class="text-[#994d51] leading-normal">
              <span class="md:text-lg font-bold text-gray-900">&#8377;74,900</span> </p></p>
<div class="flex flex-row items-center gap-1">
  <span class="text-gray-500 line-through text-sm">&#8377;79,900</span>
  <span class="text-green-600 font-semibold text-sm">6% off</span>
</div>
    </p>
              <p class="text-[#994d51] text-sm font-normal leading-normal">4.7 • 1.8km</p>
              <p class="text-gray-500 text-sm">• 7 days service center replacement/repair</p>
              <p class="text-gray-500 text-sm">• GST invoice available</p>
              
              <div class="flex flex-row gap-2 mt-2">
  <a href="tel:+1234567890" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Call Store">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M392.29,323.08c-23.39,0-46.31-3.63-67.92-10.74a25.26,25.26,0,0,0-24.34,6l-46.14,34.77A348.11,348.11,0,0,1,158.9,249.87l34.58-45.93a25.22,25.22,0,0,0,6-24.19c-7.14-21.61-10.77-44.53-10.77-67.92a25.26,25.26,0,0,0-25.26-25.26H89.71A25.26,25.26,0,0,0,64.45,112C64.45,305.15,206.85,447.55,400,447.55a25.26,25.26,0,0,0,25.26-25.26V348.34A25.26,25.26,0,0,0,400,323.08Z"/></svg>
    </a>

<!-- Directions Button -->
  <a href="https://maps.google.com/?q=Electronics+Store+1" target="_blank" class="flex-1 bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow hover:bg-red-600 hover:text-white transition border border-[#994d51] flex items-center justify-center gap-1" title="Get Location">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 512 512">
        <path d="M256 32C167.64 32 96 103.64 96 192c0 106.04 144.44 271.83 150.62 278.67a24 24 0 0 0 34.76 0C271.56 463.83 416 298.04 416 192c0-88.36-71.64-160-160-160zm0 240a80 80 0 1 1 0-160 80 80 0 0 1 0 160zm0-32a48 48 0 1 0 0-96 48 48 0 0 0 0 96z" />
      </svg>
    </a>
</div>
            </div>
          </div>
        </div>
        <h2 id="section-similar" class="text-[#1b0e0e] text-xl sm:text-[22px] font-bold leading-tight tracking-[-0.015em] px-0 sm:px-4 pb-3 pt-3" style="scroll-margin-top: 100px;">Similar Products</h2>
        <div class="flex overflow-y-auto [-ms-scrollbar-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden">
          <div class="flex items-stretch px-0 sm:px-4 py-4 gap-3">
            <!-- Similar products will be rendered here dynamically by JS -->
          </div>
        </div>
<script src="/src/similar-products.js"></script>

        <h2 id="section-specs" class="text-[#1b0e0e] text-[22px] font-bold leading-tight tracking-[-0.015em] px-0 sm:px-4 pb-3 pt-3" style="scroll-margin-top: 100px;">Specs</h2>
<div id="specifications" class="grid grid-cols-2 gap-y-2 px-0 sm:px-4 pb-3 pt-5"></div>
<div class=" pb-2 pt-2">
<button
  id="toggle-specs-btn"
  class="w-full sm:w-auto bg-white text-[#994d51] py-1.5 rounded-lg text-center font-semibold text-sm shadow transition border border-[#994d51] flex items-center justify-center gap-1 hover:bg-red-600 hover:text-white flex-1"
>
  <span class="px-4">See more specs</span>
</button>
</div>


                <h2 id="section-reviews" class="text-[#1b0e0e] text-xl sm:text-[22px] font-bold leading-tight tracking-[-0.015em] px-0 sm:px-4 pb-3 pt-5" style="scroll-margin-top: 100px;">User Reviews & Questions</h2>
        <div class="flex flex-wrap gap-x-8 gap-y-2 p-4">
          <div class="flex flex-col">
            <p class="text-[#1b0e0e] text-4xl font-black leading-tight tracking-[-0.033em]"><span id="product-rating">4.5</span></p>
            <div class="flex gap-0.5">
              <div class="text-[#ea2832]" data-icon="Star" data-size="18px" data-weight="fill">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"
                  ></path>
                </svg>
              </div>
              <div class="text-[#ea2832]" data-icon="Star" data-size="18px" data-weight="fill">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"
                  ></path>
                </svg>
              </div>
              <div class="text-[#ea2832]" data-icon="Star" data-size="18px" data-weight="fill">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"
                  ></path>
                </svg>
              </div>
              <div class="text-[#ea2832]" data-icon="Star" data-size="18px" data-weight="fill">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"
                  ></path>
                </svg>
              </div>
              <div class="text-[#ea2832]" data-icon="Star" data-size="18px" data-weight="regular">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M239.2,97.29a16,16,0,0,0-13.81-11L166,81.17,142.72,25.81h0a15.95,15.95,0,0,0-29.44,0L90.07,81.17,30.61,86.32a16,16,0,0,0-9.11,28.06L66.61,153.8,53.09,212.34a16,16,0,0,0,23.84,17.34l51-31,51.11,31a16,16,0,0,0,23.84-17.34l-13.51-58.6,45.1-39.36A16,16,0,0,0,239.2,97.29Zm-15.22,5-45.1,39.36a16,16,0,0,0-5.08,15.71L187.35,216v0l-51.07-31a15.9,15.9,0,0,0-16.54,0l-51,31h0L82.2,157.4a16,16,0,0,0-5.08-15.71L32,102.35a.37.37,0,0,1,0-.09l59.44-5.14a16,16,0,0,0,13.35-9.75L128,32.08l23.2,55.29a16,16,0,0,0,13.35,9.75L224,102.26S224,102.32,224,102.33Z"
                  ></path>
                </svg>
              </div>
            </div>
            <p id="review-count-detail" class="text-[#1b0e0e] text-base font-normal leading-normal">125 reviews</p>
          </div>
          <!-- Dynamic rating distribution bar. Place wherever you want in your page! -->
<div id="rating-distribution" 
  class="grid min-w-[200px] max-w-[400px] flex-1 grid-cols-[20px_1fr_40px] items-center gap-y-3">
</div></div>
<script>
const reviews = [
    {
        "id": 1,
        "entity_id": 10,
        "review": "Amazing phone! The camera is incredible and the battery lasts all day.",
        "rating": 5,
        // ...
    },
    {
        "id": 2,
        "entity_id": 10,
        "review": "Great phone overall, but a bit pricey. The display is stunning.",
        "rating": 4,
    },
    {
        "id": 3,
        "entity_id": 10,
        "review": "Best phone I've ever owned. Super fast and the design is sleek.",
        "rating": 5,
    }
];

// Make the function generic and dynamic
function renderRatingDistribution(reviews, containerId = 'rating-distribution') {
  // Count for each star (ensure all are present)
  const counts = {5: 0, 4: 0, 3: 0, 2: 0, 1: 0};
  reviews.forEach(r => {
    const rate = Number(r.rating);
    if (counts[rate] !== undefined) counts[rate]++;
  });
  const total = reviews.length || 1; // prevents division by zero

  // Calculate percentages for each star rating
  const percentages = [];
  for (let star = 5; star >= 1; star--) {
    const count = counts[star];
    const percent = Math.round((count / total) * 100); // percent of total, rounded
    percentages.push({ star, percent });
  }
  
  // Check if the sum equals 100
  const sum = percentages.reduce((acc, item) => acc + item.percent, 0);
  
  // Adjust percentages if needed to ensure total is exactly 100%
  if (sum !== 100 && percentages.length > 0) {
    // Find the largest percentage to adjust (to minimize visible impact)
    const largestIdx = percentages.reduce((maxIdx, item, idx, arr) => 
      item.percent > arr[maxIdx].percent ? idx : maxIdx, 0);
    
    // Add or subtract the difference to make sum = 100
    percentages[largestIdx].percent += (100 - sum);
  }
  
  // Generate HTML with adjusted percentages
  let html = '';
  percentages.forEach(({ star, percent }) => {
    html += `
      <p class="text-[#1b0e0e] text-sm font-normal leading-normal">${star}</p>
      <div class="flex h-2 flex-1 overflow-hidden rounded-full bg-[#e7d0d1]">
        <div class="rounded-full bg-[#ea2832]" style="width:${percent}%;"></div>
      </div>
      <p class="text-[#994d51] text-sm font-normal leading-normal text-right">${percent}%</p>
    `;
  });
  
  document.getElementById(containerId).innerHTML = html;
}

// Rating distribution will be rendered after fetching reviews
</script>

<!-- Dynamic User Reviews Section -->

        <script>
          window.renderProductReviews = function(product, reviews) {
      function StarFilled() {
        return `<div class="text-[#ea2832]" data-icon="Star" data-size="20px" data-weight="fill">
          <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
            <path d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"></path>
          </svg>
        </div>`;
      }
      function StarUnfilled() {
        return `<div class="text-[#d6aeb0]" data-icon="Star" data-size="20px" data-weight="regular">
          <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
            <path d="M239.2,97.29a16,16,0,0,0-13.81-11L166,81.17,142.72,25.81h0a15.95,15.95,0,0,0-29.44,0L90.07,81.17,30.61,86.32a16,16,0,0,0-9.11,28.06L66.61,153.8,53.09,212.34a16,16,0,0,0,23.84,17.34l51-31,51.11,31a16,16,0,0,0,23.84-17.34l-13.51-58.6,45.1-39.36A16,16,0,0,0,239.2,97.29Zm-15.22,5-45.1,39.36a16,16,0,0,0-5.08,15.71L187.35,216v0l-51.07-31a15.9,15.9,0,0,0-16.54,0l-51,31h0L82.2,157.4a16,16,0,0,0-5.08-15.71L32,102.35a.37.37,0,0,1,0-.09l59.44-5.14a16,16,0,0,0,13.35-9.75L128,32.08l23.2,55.29a16,16,0,0,0,13.35,9.75L224,102.26S224,102.32,224,102.33Z"></path>
          </svg>
        </div>`;
      }

      // SVG for Thumbs Up/Down as functions
      function ThumbsUp() {
        return `<div class="text-inherit" data-icon="ThumbsUp" data-size="20px" data-weight="regular">
          <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
            <path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path>
          </svg>
        </div>`;
      }
      function ThumbsDown() {
        return `<div class="text-inherit" data-icon="ThumbsDown" data-size="20px" data-weight="regular">
          <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
            <path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path>
          </svg>
        </div>`;
      }

      // --- Helper to format date to "X months ago" ---
      function timeAgo(dateIso) {
        const now = new Date();
        const then = new Date(dateIso);
        const diffMs = now - then;
        const seconds = Math.floor(diffMs / 1000);
        const minutes = Math.floor(seconds/60);
        const hours = Math.floor(minutes/60);
        const days = Math.floor(hours/24);
        const months = Math.floor(days/30);
        if (months > 0) return `${months} month${months > 1 ? "s" : ""} ago`;
        if (days > 0) return `${days} day${days > 1 ? "s" : ""} ago`;
        if (hours > 0) return `${hours} hour${hours > 1 ? "s" : ""} ago`;
        return "just now";
      }

      // --- Helper to parse the review_images ---
      function parseReviewImages(review_images) {
        try {
          // review_images is stringified object with urls as keys and empty string or url as value.
          // Might be stringified array or object; using regex to extract all URLs
          let urls = [];
          // Try JSON.parse
          const obj = JSON.parse(review_images);
          if (typeof obj === 'object') {
            urls = Object.keys(obj);
          }
          return urls;
        } catch {
          // fallback: extract urls using regex (shouldn't be needed)
          const urls = [];
          const regex = /https?:\/\/[^\"]+/g;
          let match;
          while ((match = regex.exec(review_images)) !== null) {
            urls.push(match[0]);
          }
          return urls;
        }
      }

      // --- Render one review ---
      function renderReview(review) {
        const stars = Array.from({length: 5}, (_, i) => i < review.rating ? StarFilled() : StarUnfilled()).join('');
        const images = parseReviewImages(review.review_images);
        const imagesHTML = images.map((url, i) =>
          `<img src="${url}"
                 class="review-image w-20 h-20 object-cover rounded cursor-pointer hover:opacity-90 transition"
                 data-review-id="${review.id}"
                 data-image-index="${i}"
                 alt="Review image ${i+1}">`).join('');
        return `
        <div class="flex flex-col gap-3 bg-[#fcf8f8]">
          <div class="flex items-center gap-1 mt-4">
            <div
              class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
              style='background-image: url("${review.user_image}");'
            ></div>
            <div class="flex-1">
              <p class="text-[#1b0e0e] text-sm sm:text-base font-medium leading-normal">${review.user_name}</p>
              <p class="text-[#994d51] text-sm font-normal leading-normal">${timeAgo(review.created_at)}</p>
            </div>
          </div>
          <div class="flex gap-0.5">
            ${stars}
          </div>
          <p class="text-[#1b0e0e] text-sm sm:text-base font-normal leading-normal">${review.review}</p>
          ${images.length > 0 ?
            `<div class="flex flex-wrap gap-2 mb-4">${imagesHTML}</div>` : ''
          }
        </div>
        `;
      }

      // --- Render All ---
      const reviewsContainer = document.getElementById('reviews-list');
      // Initialize state to show only first 3 reviews
      let showAllReviews = false;
      
      // Function to render reviews based on current state
      function updateReviews() {
        // Determine which reviews to show
        const displayedReviews = showAllReviews ? reviews : reviews.slice(0, 3);
        
        // Render the reviews
        let html = displayedReviews.map(renderReview).join('');
        
        // Add toggle button if there are more than 3 reviews
        if (reviews.length > 3) {
          if (showAllReviews) {
            html += `<div class="mt-2 mb-2">
  <button
    id="toggle-reviews-btn"
    class="
      w-full sm:w-auto
      bg-white text-[#994d51]
      py-1.5 rounded-lg text-center font-semibold text-sm shadow transition
      border border-[#994d51]
      flex items-center justify-center gap-1
      hover:bg-red-600 hover:text-white
      flex-1 mt-2
    "
  >
    <span class="px-4">See less reviews</span>
  </button>
</div>
`;
          } else {
            html += `
            <div class="pb-2 pt-2">
  <button
    id="toggle-reviews-btn"
    class="
      w-full sm:w-auto
      bg-white text-[#994d51]
      rounded-lg text-center font-semibold text-sm shadow transition
      border border-[#994d51]
      flex items-center justify-center gap-1
      hover:bg-red-600 hover:text-white
      py-1.5
    "
  >
    <span class="px-4">See more reviews</span>
  </button>
</div>
`;
          }
        }
        
        reviewsContainer.innerHTML = html;
        
        // Add event listener to toggle button
        const toggleButton = document.getElementById('toggle-reviews-btn');
        if (toggleButton) {
          toggleButton.addEventListener('click', function() {
            showAllReviews = !showAllReviews;
            updateReviews();
          });
        }
      }
      
      // Initial render
      updateReviews();}
    </script>

        <div id="reviews-list" class="flex flex-col px-0 sm:px-4"></div>

<script>
  // Function to make review images clickable
  function makeReviewImagesClickable() {
    // Target all review images
    const reviewImages = document.querySelectorAll('.review-image');
    const modal = document.getElementById('reviewImageModal');
    const modalImage = document.getElementById('modalImage');
    const closeBtn = document.getElementById('modalCloseBtn');
    const prevBtn = document.getElementById('prevImageBtn');
    const nextBtn = document.getElementById('nextImageBtn');
    // Skip if any required elements are missing
    if (!modal || !modalImage || !closeBtn || !prevBtn || !nextBtn) return;
    
    // Variables to track current review and image
    let currentReviewId = null;
    let currentImageIndex = 0;
    let reviewImagesMap = {};// Group images by review ID for easier navigation
    reviewImages.forEach(img => {
      const reviewId = img.dataset.reviewId;
      const imageIndex = parseInt(img.dataset.imageIndex);
      if (!reviewImagesMap[reviewId]) {
        reviewImagesMap[reviewId] = [];
      }
      
      reviewImagesMap[reviewId].push({
        src: img.src,
        alt: img.alt,
        index: imageIndex
      });
    });
    
    // Open modal when clicking on a review image
    reviewImages.forEach(img => {
      // Remove any existing click listeners first to prevent duplicates
      img.removeEventListener('click', imageClickHandler);
      // Add click event listener
      img.addEventListener('click', imageClickHandler);
    });
    
    function imageClickHandler() {
      currentReviewId = this.dataset.reviewId;
      currentImageIndex = parseInt(this.dataset.imageIndex);updateModalImage();modal.classList.remove('hidden');document.body.style.overflow = 'hidden'; // Prevent scrolling when modal is open
    }
    
    // Close modal
    closeBtn.addEventListener('click', closeModal);
    
    // Close modal when clicking outside the image
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        closeModal();
      }
    });
    
    // Navigate to previous image
    prevBtn.addEventListener('click', function() {
      if (currentReviewId && reviewImagesMap[currentReviewId].length > 1) {
        currentImageIndex = (currentImageIndex - 1 + reviewImagesMap[currentReviewId].length) % reviewImagesMap[currentReviewId].length;
        updateModalImage();
      }
    });
    
    // Navigate to next image
    nextBtn.addEventListener('click', function() {
      if (currentReviewId && reviewImagesMap[currentReviewId].length > 1) {
        currentImageIndex = (currentImageIndex + 1) % reviewImagesMap[currentReviewId].length;
        updateModalImage();
      }
    });
    
    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      if (modal.classList.contains('hidden')) return;
      
      switch (e.key) {
        case 'Escape':
          closeModal();
          break;
        case 'ArrowLeft':
          prevBtn.click();
          break;
        case 'ArrowRight':
          nextBtn.click();
          break;}
    });// Update modal image based on current review and index
    function updateModalImage() {
      if (!currentReviewId || !reviewImagesMap[currentReviewId]) return;
      
      const currentImage = reviewImagesMap[currentReviewId].find(img => img.index === currentImageIndex) ||          reviewImagesMap[currentReviewId][0];
      if (currentImage) {
        modalImage.src = currentImage.src;
        modalImage.alt = currentImage.alt;}// Show/hide navigation arrows based on number of images
      if (reviewImagesMap[currentReviewId].length <= 1) {
        prevBtn.classList.add('hidden');
        nextBtn.classList.add('hidden');
      } else {
        prevBtn.classList.remove('hidden');
        nextBtn.classList.remove('hidden');
      }
    }
    
    // Close the modal
    function closeModal() {
      modal.classList.add('hidden');
      document.body.style.overflow = ''; // Restore scrolling
    }
  }
  
  // Execute immediately
  makeReviewImagesClickable();
  
  // Set up a MutationObserver to detect when new review images are added
  const reviewsListObserver = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if (mutation.addedNodes.length) {
        // Wait a small delay to ensure all DOM elements are fully rendered
        setTimeout(makeReviewImagesClickable, 100);
      }
    });
  });
  
  // Start observing the reviews container for DOM changes
  const reviewsContainer = document.getElementById('reviews-list');
  if (reviewsContainer) {
    reviewsListObserver.observe(reviewsContainer, {childList: true, subtree: true});
  }
</script>

      </div>
      </div>
    </div>
  <script>
    // Vertical Gallery: Click Thumb to update Main Image
    document.addEventListener('DOMContentLoaded', function () {
      const thumbs = document.querySelectorAll('.gallery-thumb');
      const main = document.getElementById('main-image');
      const thumbContainers = document.querySelectorAll('.thumbnail');
      thumbs.forEach((thumb, idx) => {
        thumb.addEventListener('click', function () {
          // Update main image src/alt
          main.src = thumb.src;
          main.alt = thumb.alt.replace('Thumb', 'Main Product');
          // Remove border from all thumbnails
          thumbContainers.forEach(div => {
            div.classList.remove('border-blue-500');
            div.classList.add('hover:border-2', 'hover:border-blue-500');
            div.classList.remove('border-2');
          });
          // Add blue border to clicked one
          if (thumb.parentElement.classList.contains('thumbnail')) {
            thumb.parentElement.classList.add('border-2', 'border-blue-500');
            thumb.parentElement.classList.remove('hover:border-2', 'hover:border-blue-500');
          }
        });
      });
      
      // Review Image Modal Functionality
      const reviewImages = document.querySelectorAll('.review-image');
      const modal = document.getElementById('reviewImageModal');
      const modalImage = document.getElementById('modalImage');
      const closeBtn = document.getElementById('modalCloseBtn');
      const prevBtn = document.getElementById('prevImageBtn');
      const nextBtn = document.getElementById('nextImageBtn');
      
      // Variables to track current review and image
      let currentReviewId = null;
      let currentImageIndex = 0;
      let reviewImagesMap = {};// Group images by review ID for easier navigation
      reviewImages.forEach(img => {
        const reviewId = img.dataset.reviewId;
        const imageIndex = parseInt(img.dataset.imageIndex);
        
        if (!reviewImagesMap[reviewId]) {
          reviewImagesMap[reviewId] = [];
        }
        
        reviewImagesMap[reviewId].push({
          src: img.src,
          alt: img.alt,
          index: imageIndex
        });
      });
      
      // Open modal when clicking on a review image
      reviewImages.forEach(img => {
        img.addEventListener('click', function() {
          currentReviewId = this.dataset.reviewId;
          currentImageIndex = parseInt(this.dataset.imageIndex);
          
          updateModalImage();
          modal.classList.remove('hidden');
          document.body.style.overflow = 'hidden'; // Prevent scrolling when modal is open
        });
      });
      
      // Close modal
      closeBtn.addEventListener('click', closeModal);
      
      // Close modal when clicking outside the image
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          closeModal();
        }
      });
      
      // Navigate to previous image
      prevBtn.addEventListener('click', function() {
        if (currentReviewId && reviewImagesMap[currentReviewId].length > 1) {
          currentImageIndex = (currentImageIndex - 1 + reviewImagesMap[currentReviewId].length) % reviewImagesMap[currentReviewId].length;
          updateModalImage();
        }
      });
      
      // Navigate to next image
      nextBtn.addEventListener('click', function() {
        if (currentReviewId && reviewImagesMap[currentReviewId].length > 1) {
          currentImageIndex = (currentImageIndex + 1) % reviewImagesMap[currentReviewId].length;
          updateModalImage();
        }
      });
      
      // Keyboard navigation
      document.addEventListener('keydown', function(e) {
        if (modal.classList.contains('hidden')) return;
        
        switch (e.key) {
          case 'Escape':
            closeModal();
            break;
          case 'ArrowLeft':
            prevBtn.click();
            break;
          case 'ArrowRight':
            nextBtn.click();
            break;
        }
      });
      
      // Update modal image based on current review and index
      function updateModalImage() {
        if (!currentReviewId || !reviewImagesMap[currentReviewId]) return;
        
        const currentImage = reviewImagesMap[currentReviewId].find(img => img.index === currentImageIndex) ||
                            reviewImagesMap[currentReviewId][0];
        if (currentImage) {
          modalImage.src = currentImage.src;
          modalImage.alt = currentImage.alt;
        }
        // Show/hide navigation arrows based on number of images
        if (reviewImagesMap[currentReviewId].length <= 1) {
          prevBtn.classList.add('hidden');
          nextBtn.classList.add('hidden');
        } else {
          prevBtn.classList.remove('hidden');
          nextBtn.classList.remove('hidden');
        }
      }
      // Close the modal
      function closeModal() {
        modal.classList.add('hidden');
        document.body.style.overflow = ''; // Restore scrolling
      }
    });
        </script>
        
        <!-- Image Modal for Reviews -->
        <div id="reviewImageModal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
          <!-- Dark Overlay -->
          <div class="absolute inset-0 bg-black bg-opacity-75"></div>
          
          <!-- Modal Content -->
          <div class="relative z-10 max-w-4xl w-full mx-4">
            <!-- Close Button -->
            <button id="modalCloseBtn" class="absolute top-2 right-2 z-20 text-white bg-black bg-opacity-50 hover:bg-opacity-70 rounded-full p-2 transition">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256">
                <path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path>
              </svg>
            </button><!-- Image Container -->
                        <div class="relative rounded-lg overflow-hidden">
                          <img id="modalImage" src="" alt="Review Image" class="w-full object-contain max-h-[80vh] bg-transparent">
              
              <!-- Navigation Arrows -->
              <button id="prevImageBtn" class="absolute left-2 top-1/2 -translate-y-1/2 text-white bg-black bg-opacity-50 hover:bg-opacity-70 rounded-full p-2 transition">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L96.49,128Z"></path>
                </svg>
              </button>
              <button id="nextImageBtn" class="absolute right-2 top-1/2 -translate-y-1/2 text-white bg-black bg-opacity-50 hover:bg-opacity-70 rounded-full p-2 transition">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159.51,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"></path>
                </svg>
              </button>
            </div>
          </div>
        </div>
    </html>


<script>
  // Section tab logic for active style
  document.addEventListener("DOMContentLoaded", function() {
    const sectionTabs = Array.from(document.querySelectorAll('#section-tabs a'));
    const sectionIds = ['section-info', 'section-stores', 'section-similar','section-specs', 'section-reviews'];
    const sectionEls = sectionIds.map(id => document.getElementById(id));
    // Utility to set active styling
    function setActiveTab(idx) {
      sectionTabs.forEach((tab, i) => {
        if (i === idx) {
          tab.classList.remove('text-[#994d51]', 'border-b-transparent');
          tab.classList.add('text-black', 'border-b-[#ea2832]');
        } else {
          tab.classList.remove('text-black', 'border-b-[#ea2832]');
          tab.classList.add('text-[#994d51]', 'border-b-transparent');
        }
      });
    }

    // On scroll: highlight tab for section in view
    function onScroll() {
      let scrollY = window.scrollY + 100; // offset tolerance
      let activeIdx = 0;
      for (let i = 0; i < sectionEls.length; i++) {
        if (sectionEls[i] && sectionEls[i].offsetTop <= scrollY) {
          activeIdx = i;
        }
      }
      setActiveTab(activeIdx);
    }
    window.addEventListener('scroll', onScroll, {passive: true});
    // Initialize
    setActiveTab(0);
  });
</script>


<script>
// Use the centralized API cache service
console.log('Using centralized API cache service in products.html');

(async function () {
  // Global flag to indicate product data has loaded
  window.productLoaded = false;
  
  // Get keyName from URL - support both new SEO-friendly (/product/) and old query parameter formats
  let keyName;
  
  // Check if it's a SEO-friendly URL format: /product/product-name
  const pathSegments = window.location.pathname.split('/');
  if (pathSegments.length >= 3 && pathSegments[1] === 'product') {
    keyName = pathSegments[2];
  } else {
    // Fallback to old query parameter format: products.html?name=product-name
    const params = new URLSearchParams(window.location.search);
    keyName = params.get('name');
  }
  
  if (!keyName) {
    document.body.innerHTML = "<h2 style='color:red;text-align:center;margin-top:3em;'>No product key_name specified in URL!</h2><p style='text-align:center;'>Usage: /product/product-key-name or products.html?name=product-key-name</p>";
    throw new Error("No product key_name specified in URL");
  }
  
  let product;
  try {
    // Use API cache service
    const apiUrl = `/api/products/${encodeURIComponent(keyName)}`;
    product = window.apiCacheService 
      ? await window.apiCacheService.fetch(apiUrl)
      : await fetch(apiUrl).then(res => res.ok ? res.json() : null);
      
    // Store product globally for other scripts to use
    window.product = product;
  } catch (e) {
    document.body.innerHTML = "<h2 style='color:red;text-align:center;margin-top:3em;'>Failed to contact backend server</h2>";
    console.error('Failed to contact backend:', e);
    return;
  }if (!product) {
    document.body.innerHTML = `<h2 style='color:red;text-align:center;margin-top:3em;'>No product found for id: ${productId}</h2>`;
    console.error('No product found for id', productId);
    return;
  }

  // Fetch all verticals and render Similar Products as different verticals (except current)
//   try {
//     const vres = await fetch('http://localhost:3001/api/verticals');
//     const verticals = vres.ok ? await vres.json() : [];
//     const simContainer = document.querySelector('#section-similar + div > div.flex.items-stretch.p-4.gap-3');
//     if (simContainer && Array.isArray(verticals)) {
//       simContainer.innerHTML = ''; // Clear placeholder
//       verticals
//         .filter(v => v.id !== product.vertical_id)
//         .forEach(v => {
//           const div = document.createElement('div');
//           div.className = 'flex h-full flex-1 flex-col gap-4 rounded-lg min-w-40';
//           div.innerHTML = `
//             <div
//               class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-xl flex flex-col"
//               style='background-image: url("${v.image || "https://via.placeholder.com/160x160?text=No+Image"}");'
//             ></div>
//             <div>
//               <p class="text-[#1b0e0e] text-base font-medium leading-normal">${v.name}</p>
//               <p class="text-[#994d51] text-sm font-normal leading-normal">From ₹${v.min_price ? Number(v.min_price).toLocaleString('en-IN') : 'N/A'}</p>
//             </div>
//           `;

// // Attach click handler to open product page of least price for this vertical
//           simContainer.appendChild(div);
//         });
//       if (simContainer.innerHTML.trim() === '') {
//         simContainer.innerHTML = "<div class='px-2'>No other verticals found.</div>";
//       }
//     }
//   } catch (e) {
//     console.error('Failed to fetch/render verticals:', e);
//   }


  // Update breadcrumb navigation with category names from API
  const updateBreadcrumb = (selector) => {
    const breadcrumb = document.querySelector(selector);
    if (breadcrumb) {
      // Update parent category
      const parentCatElements = breadcrumb.querySelectorAll('.parent-category');
      if (product.parent_category_name && parentCatElements.length) {
        for (const el of parentCatElements) {
          el.textContent = product.parent_category_name;
        }
      }
      
      // Update sub category
      const subCatElements = breadcrumb.querySelectorAll('.sub-category');
      if (product.sub_category_name && subCatElements.length) {
        for (const el of subCatElements) {
          el.textContent = product.sub_category_name;
        }
      }
      
      // Update product name
      const productVerticalElements = breadcrumb.querySelectorAll('.product-vertical');
      if (productVerticalElements.length) {
  for (const el of productVerticalElements) {
    el.textContent = product.vertical_name;
  }
}
    }
  };

  // Update both mobile and desktop breadcrumbs
  updateBreadcrumb('#mobile-breadcrumb');
  updateBreadcrumb('#desktop-breadcrumb');
  
  // Update main product title
  const productTitleElement = document.getElementById('product-title');
  if (productTitleElement && product.name) {
    productTitleElement.textContent = product.name;
  }
  // Render product reviews section
  try {
    // Use the API cache service
    const reviewsUrl = `/api/reviews/${encodeURIComponent(product.key_name)}`;
    var reviews = window.apiCacheService 
      ? await window.apiCacheService.fetch(reviewsUrl)
      : await fetch(reviewsUrl).then(res => res.ok ? res.json() : []);
    reviews = Array.isArray(reviews) ? reviews : [];
  } catch (e) {
    console.error('Failed to fetch reviews:', e);
    var reviews = [];
  }
  window.renderProductReviews(product, reviews);
  
  // Render rating distribution with the fetched reviews
  renderRatingDistribution(reviews);


  // Update product name
  const nameEls = document.querySelectorAll('h2.text-xl, h2.text-2xl, h2.text-3xl, h2.font-bold, h2.text-gray-900');
  for (const el of nameEls) {
    if (el.innerText && el.innerText.trim().length) {
      el.innerText = product.name || el.innerText;
      break;
    }
  }
  // Update price - use minimum price from stores API instead of product.price
  const priceEl = document.querySelector('span.text-lg.text-gray-900, span.font-bold.text-gray-900');
  
  // Fetch stores data to get minimum price
  let minPrice = product.price; // Default to product.price as fallback
  try {
    // Use API cache service for stores data
    const storesUrl = `/api/stores/for-product/${product.key_name}`;
    const stores = window.apiCacheService
      ? await window.apiCacheService.fetch(storesUrl)
      : await fetch(storesUrl).then(res => res.ok ? res.json() : null);
      
    if (stores && Array.isArray(stores) && stores.length > 0) {
      // Stores are already sorted by price ascending in the API
      minPrice = stores[0].price;
    }
  } catch (error) {
    console.error('Error fetching stores for min price:', error);
  }
  
  if (priceEl && minPrice != null) {
    priceEl.innerHTML = `&#8377;${Number(minPrice).toLocaleString('en-IN')}`; // localized Indian format
  }
  // Dynamically add/remove "Extra ₹... off" above price row
  // Find the price-row parent node (div.flex.items-end.gap-2....)
  const priceRowDiv = document.querySelector('div.flex.items-end.gap-2, div.flex.items-end.gap-2.sm\\:gap-3.mb-2');
  // Remove any existing extra-off-text node
  const prevExtraOff = document.getElementById('extra-off-text');
  if (prevExtraOff) prevExtraOff.remove();
  // Use mrp if available, otherwise use strike_off_price - same as below for consistency
  const originalPrice = (product.mrp && product.mrp != 0) ? product.mrp : product.strike_off_price;
  
  // Only show "Extra ₹X off" if originalPrice > minPrice (same logic as MRP display)
  if (priceRowDiv && originalPrice && originalPrice > 0 && minPrice != null && originalPrice > minPrice) {
    const diff = Math.round(Number(originalPrice) - Number(minPrice));
    // This check is redundant now but keeping for safety
    if (diff > 0) {
      const extraDiv = document.createElement('div');
      extraDiv.className = "text-green-600 font-semibold text-sm mb-1";
      extraDiv.id = 'extra-off-text';
      extraDiv.textContent = `Extra ₹${diff.toLocaleString('en-IN')} off`;
      priceRowDiv.parentNode.insertBefore(extraDiv, priceRowDiv);
    }
  }
  // Update strike-off price & percent off based on value - using the originalPrice variable we defined above
  
  // Get references to the elements showing strike-through price and percentage off
  const strikeEl = document.querySelector('.text-gray-500.line-through.text-sm');
  const percEl = document.querySelector('.text-green-600.font-semibold.text-xs, .text-green-600.font-semibold.text-base');
  if (strikeEl && percEl) {
    // Only show MRP and strike off price if MRP > product price (minPrice)
    if (originalPrice && originalPrice != 0 && minPrice && originalPrice > minPrice) {
      strikeEl.style.display = '';
      percEl.style.display = '';
      strikeEl.innerHTML = `&#8377;${Number(originalPrice).toLocaleString('en-IN')}`;
      const percent = Math.round((originalPrice - minPrice) * 100 / originalPrice);
      percEl.innerText = `${percent}% off`;
    } else {
      strikeEl.style.display = 'none';
      percEl.style.display = 'none';
    }
  }
  
  // Log info to console to help debug mrp availability
  console.log('Product MRP:', product.mrp);
  console.log('Product Strike-off Price:', product.strike_off_price);
  // Update ratings and reviews
  const ratingBadge = document.querySelector('.bg-green-600.text-white.text-xs.font-bold.rounded');
  if (ratingBadge && product.rating) {
    ratingBadge.textContent = `${product.rating} ★`;
  }
  const ratingsText = document.querySelector('.flex.items-center.gap-2.mb-1.text-sm .text-gray-600');
  if (ratingsText && product.rating_count && product.review_count) {
    ratingsText.textContent = `${Number(product.rating_count).toLocaleString()} Ratings & ${Number(product.review_count).toLocaleString()} Reviews`;
  }

  // Update the detailed review count under "User Reviews"
  const detailedReviewCount = document.getElementById('review-count-detail');
  if (detailedReviewCount && product.review_count !== undefined) {
    detailedReviewCount.textContent = `${Number(product.review_count).toLocaleString()} reviews`;
  }


  // Update highlights
  // Find the first Highlights block (might be multiple uls in the template)
  const allUls = document.querySelectorAll('ul.pl-4.mt-1.text-gray-600.text-xs, ul.pl-4.mt-1.text-gray-600.text-sm');
  if (Array.isArray(product.highlights) || typeof product.highlights === 'string') {
    let highlights = [];
    if (Array.isArray(product.highlights)) {
      highlights = product.highlights;
    } else if (typeof product.highlights === 'string') {
      // Try JSON parse
      try {
        let parsed = JSON.parse(product.highlights);
        if (Array.isArray(parsed)) {
          highlights = parsed;
        }
      } catch (e) {
        // Fallback to handle {"a","b","c"} or {a,b,c}
        let s = product.highlights.trim();
        if (s.startsWith('{') && s.endsWith('}')) {
          s = s.slice(1, -1);
          highlights = s.split(/"\s*,\s*"?|,\s*"?/).map(val =>
            val.replace(/^"+|"+$/g, '').trim()
          ).filter(Boolean);
        } else if (s.indexOf('|') >= 0) {
          // Fallback: pipe-separated (legacy)
          highlights = s.split('|').map(val => val.trim());
        }
      }
    }
    if (allUls.length && Array.isArray(highlights)) {
      const ul = allUls[0];
      ul.innerHTML = "";
      highlights.forEach(h => {
        if (typeof h === "string" && h.length) {
          const li = document.createElement('li');
          li.className = "list-disc";
          li.innerText = h;
          ul.appendChild(li);
        }
      });
    }
    }
const specsContainer = document.getElementById("specifications");
const toggleBtn = document.getElementById("toggle-specs-btn");

if (specsContainer && product.specifications) {
  let specs;
  try {
    specs = typeof product.specifications === "string"
      ? JSON.parse(product.specifications)
      : product.specifications;
  } catch (error) {
    console.error("Invalid JSON in specifications:", error);
    specs = {};
  }

  const specEntries = Object.entries(specs);
  // let isExpanded = false;

  specEntries.forEach(([key, value], index) => {
    const cleanKey = key.replace(/\s+/g, ' ').trim();

    const wrapper = document.createElement("div");
    wrapper.className =
      "spec-item flex flex-col gap-1 border-t border-solid border-t-[#e7d0d1] py-4 pr-2";

    // Add hidden class if beyond first 6 items
    if (index >= 6) wrapper.classList.add("hidden");

    const keyElem = document.createElement("p");
    keyElem.className = "text-[#994d51] text-sm font-normal leading-normal";
    keyElem.textContent = cleanKey;

    const valueElem = document.createElement("p");
    valueElem.className = "text-[#1b0e0e] text-sm font-normal leading-normal";
    valueElem.textContent = value;

    wrapper.appendChild(keyElem);
    wrapper.appendChild(valueElem);
    specsContainer.appendChild(wrapper);
  });

  let isExpanded = false;
const toggleBtn = document.getElementById('toggle-specs-btn');

toggleBtn.addEventListener("click", () => {
  const specItems = document.querySelectorAll(".spec-item");
  isExpanded = !isExpanded;
  specItems.forEach((item, index) => {
    if (index >= 6) {
      item.classList.toggle("hidden", !isExpanded);
    }
  });
  // Update only the <span>'s text, preserve padding!
  const labelSpan = toggleBtn.querySelector("span");
  labelSpan.textContent = isExpanded ? "See less specs" : "See more specs";
});


  // Hide toggle button if 6 or fewer specs
  if (specEntries.length <= 6) {
    toggleBtn.style.display = "none";
  }

  
}

})();
</script>


<script>
  // ScrollSpy for Section Tabs
  document.addEventListener('DOMContentLoaded', function () {
    const tabs = document.querySelectorAll('#section-tabs a');
    const sections = [
      { id: 'section-info',    tabIndex: 0 },
      { id: 'section-stores',  tabIndex: 1 },
      { id: 'section-specs',   tabIndex: 2 },
      { id: 'section-similar', tabIndex: 3 },
      { id: 'section-reviews', tabIndex: 4 }
    ];

    const tabActiveClass   = 'border-b-[#ea2832] text-black';
    const tabInactiveClass = 'border-b-transparent text-[#994d51]';

    // Utility: update tabs
    function setActiveTabBySection(sectionId) {
      tabs.forEach((tab, idx) => {
        if(tab.getAttribute('href') === '#' + sectionId) {
          tab.classList.add(...tabActiveClass.split(' '));
          tab.classList.remove(...tabInactiveClass.split(' '));
        } else {
          tab.classList.remove(...tabActiveClass.split(' '));
          tab.classList.add(...tabInactiveClass.split(' '));
        }
      });
    }

    // Intersection Observer for each section
    const sectionEls = sections.map(s => document.getElementById(s.id));
    const observerOptions = {
      root: null,
      rootMargin: '0px 0px -60% 0px', // So that section is "active" when 40% from top
      threshold: 0
    };

    let activeSection = null;

    function handleIntersections(entries) {
      // Find the section closest to (but not below) the top
      let bestEntry = null;
      for (const entry of entries) {
        if (entry.isIntersecting) {
          if (!bestEntry || entry.boundingClientRect.top > bestEntry.boundingClientRect.top) {
            bestEntry = entry;
          }
        }
      }
      if (bestEntry) {
        const newSection = bestEntry.target.id;
        if (activeSection !== newSection) {
          activeSection = newSection;
          setActiveTabBySection(newSection);
        }
      }
    }

    if ('IntersectionObserver' in window) {
      const observer = new IntersectionObserver(handleIntersections, observerOptions);
      sectionEls.forEach(section => { if(section) observer.observe(section); });
      // Also: When the page loads, set correct tab
      window.addEventListener('load', function(){
        // Check initial scroll position
        let found = false;
        for (let i = sections.length - 1; i >= 0; --i) {
          const rect = sectionEls[i]?.getBoundingClientRect();
          if(rect && rect.top <= (window.innerHeight * 0.4)) {
            setActiveTabBySection(sections[i].id);
            found = true;
            break;
          }
        }
        if(!found) setActiveTabBySection(sections[0].id);
      });
    } else {
      // Fallback for browsers without IntersectionObserver
      function onScroll() {
        let active = sections[0].id;
        for (let i = 0; i < sections.length; ++i) {
          const el = sectionEls[i];
          if (!el) continue;
          const rect = el.getBoundingClientRect();
          if (rect.top <= 120) active = sections[i].id;
        }
        setActiveTabBySection(active);
      }
      window.addEventListener('scroll', onScroll, { passive: true });
      // Initial
      onScroll();
    }
  });
</script>


<script>
  // Make sure the active tab is centered in view, even when selected programmatically (e.g. on scroll)
  document.addEventListener('DOMContentLoaded', function () {
    const tabsContainer = document.getElementById('section-tabs');
    if (!tabsContainer) return;

    let lastActiveTab = null;
    const ACTIVE_TAB_CLASS = "border-b-[#ea2832]";
    const tabInactiveClass = 'border-b-transparent text-[#994d51]';
    const tabActiveClass = 'border-b-[#ea2832] text-black';

    // Utility to find the currently active tab
    function getActiveTab() {
      return Array.from(tabsContainer.querySelectorAll('a')).find(a =>
        a.classList.contains(ACTIVE_TAB_CLASS)
      );
    }
    
    // Function to manually set active tab when clicked
    function setActiveTabOnClick(clickedTab) {
      // Get all tab links
      const allTabs = tabsContainer.querySelectorAll('a');
      // Remove active classes from all tabs and add inactive classes
      allTabs.forEach(tab => {
        tab.classList.remove(...tabActiveClass.split(' '));
        tab.classList.add(...tabInactiveClass.split(' '));
      });
      
      // Add active classes to clicked tab and remove inactive classes
      clickedTab.classList.add(...tabActiveClass.split(' '));
      clickedTab.classList.remove(...tabInactiveClass.split(' '));
      // Update last active tab
      lastActiveTab = clickedTab;
    }
    
    // Add click handlers to all tabs
    tabsContainer.querySelectorAll('a').forEach(tab => {
      tab.addEventListener('click', function(e) {
        // Set this tab as active
        setActiveTabOnClick(tab);
      });
    });

    // MutationObserver to watch for class changes (active tab)
    const obs = new MutationObserver(() => {
      const activeTab = getActiveTab();
      if (activeTab && activeTab !== lastActiveTab) {
        activeTab.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
        lastActiveTab = activeTab;
      }
    });

    // Observe class attribute changes on all tab anchors
    tabsContainer.querySelectorAll('a').forEach(a => {
      obs.observe(a, { attributes: true, attributeFilter: ['class'] });
    });

    // Edge case: also run on page load in case something is already active
    const atLoad = getActiveTab();
    if (atLoad) {
      atLoad.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
      lastActiveTab = atLoad;
    }
  });
